<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Library</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>

<style>
  body {
    margin: 0;
    font-family: Georgia, serif;
    background: linear-gradient(180deg, #111, #1c1c1c);
    color: #fff;
  }

  header {
    text-align: center;
    padding: 16px;
    font-size: 20px;
    letter-spacing: 1px;
  }

  .library {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 18px;
    padding: 18px;
  }

  .book {
    background: #2a2a2a;
    border-radius: 10px;
    padding: 10px;
    cursor: pointer;
    box-shadow: 0 12px 30px rgba(0,0,0,0.6);
    transition: transform 0.25s, box-shadow 0.25s;
  }

  .book:hover {
    transform: translateY(-6px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.9);
  }

  .cover {
    background: #000;
    border-radius: 6px;
    overflow: hidden;
    height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  canvas {
    width: 100%;
    height: auto;
  }

  .title {
    margin-top: 8px;
    font-size: 14px;
    text-align: center;
    opacity: 0.9;
  }
</style>
</head>

<body>

<header>ðŸ“š My PDF Library</header>

<div class="library" id="library"></div>

<script>
  const books = [
    { file: "book1.pdf", title: "Book One" },
    { file: "book2.pdf", title: "Book Two" },
    { file: "book3.pdf", title: "Book Three" }
  ];

  const library = document.getElementById("library");

  books.forEach((b, i) => {
    const div = document.createElement("div");
    div.className = "book";
    div.innerHTML = `
      <div class="cover"><canvas id="c${i}"></canvas></div>
      <div class="title">${b.title}</div>
    `;
    div.onclick = () => {
      window.location.href =
        `reader.html?pdf=${b.file}&title=${encodeURIComponent(b.title)}`;
    };
    library.appendChild(div);

    renderCover("pdfs/" + b.file, document.getElementById("c" + i));
  });

  function renderCover(url, canvas) {
    pdfjsLib.getDocument(url).promise.then(pdf => {
      pdf.getPage(1).then(page => {
        const viewport = page.getViewport({ scale: 0.6 });
        canvas.width = viewport.width;
        canvas.height = viewport.height;
        page.render({
          canvasContext: canvas.getContext("2d"),
          viewport: viewport
        });
      });
    });
  }
</script>

</body>
</html>
